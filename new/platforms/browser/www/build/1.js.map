{"version":3,"sources":["../../src/pages/modal-search/modal-search.module.ts","../../src/pages/modal-search/modal-search.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalSearchPage } from './modal-search';\n\n@NgModule({\n  declarations: [\n    ModalSearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalSearchPage),\n  ],\n})\nexport class ModalSearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-search/modal-search.module.ts","import { Component } from '@angular/core';\nimport {IonicPage, NavController, NavParams, ViewController} from 'ionic-angular';\nimport { HttpClient } from '@angular/common/http';\nimport { ModalController } from 'ionic-angular';\nimport { ModalPage } from \"../modal/modal\";\nimport { AlertController } from 'ionic-angular';\nimport {ModalPageDescriptionPage} from \"../modal-page-description/modal-page-description\";\nimport 'rxjs/operator/filter';\n/**\n * Generated class for the ModalSearchPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-modal-search',\n  templateUrl: 'modal-search.html',\n})\n\nexport class ModalSearchPage {\n  public items;\n  public itemsEx:string[];\n  public a:string;\n  public b:string;\n  public c:string;\n  public d:string;\n  public score:number;\n  public show:number = 0;\n  public resItems = [];\n  constructor(public navParams: NavParams, private view: ViewController, public newHttp: HttpClient, public modal: ModalController, private alertCtrl: AlertController) {\n    this.itemsEx = this.navParams.get(\"data\");\n  }\n\n  ionViewWillLoad() {\n    this.itemsEx = this.navParams.get(\"data\");\n    this.newHttp.get(\"assets/data/univs.json\").subscribe(data => {\n      this.items = data;\n      //console.log(this.resData);\n    });\n  }\n  closeModal() {\n    this.view.dismiss();\n  }\n  f(){\n    if(parseInt(this.a)>0 && parseInt(this.b)>0 && parseInt(this.c)>0) {\n      this.score = parseInt(this.a) + parseInt(this.b) + parseInt(this.c)+ parseInt(this.d);\n      this.show = 1;\n      this.getItems();\n    }\n    else{\n      this.show=2;\n    }\n  }\n\n  calcCount(){\n    let k = 0;\n    if(this.resItems) {\n      for (let fac of this.resItems) {\n        for (let spec of fac.specs) {\n          if (spec.passing_score.free <= this.score) {\n            return false;\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  getItems(){\n    this.newHttp.get(\"assets/data/univs.json\").subscribe(data => {\n      this.items = data;\n    });\n\n    if(this.items){\n      this.items = this.items.filter((val)=>{\n        return val.faculties;\n      });\n      this.resItems = [];\n      for(let i of this.items){\n        var tmp = i.faculties.filter((val)=> {\n            if (val.passing_score.free <= this.score) {\n              //console.log(this.score);\n              for(let ex of this.itemsEx){\n                if(val.exams.indexOf(ex.toLowerCase())<0){\n                  return false;\n                }\n              }\n              return true;\n            }\n          }\n        );\n        if(tmp && tmp.length>0){\n          for(let i in tmp){\n            this.resItems.push(tmp[i]);\n          }\n        }\n      }\n\n    }\n  }\n  openModal(faculty, req){\n    const myModal = this.modal.create(\"ModalPage\", {data: faculty, req: req});\n    myModal.present();\n\n  }\n  showDescription(spec) {\n    const myModal = this.modal.create(\"ModalPageDescriptionPage\", {data: spec});\n    myModal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-search/modal-search.ts"],"sourceRoot":""}